{% extends "base.html" %}

{% block title %}
  {{ character.character_name }} &ndash; Details
{% endblock %}

{% block content %}
<div class="container my-4">
  <div class="card shadow-sm">
    <div class="card-header">
      <div class="d-flex justify-content-between align-items-center">
        <h1 class="h4 mb-0">{{ character.character_name }}</h1>
        <a href="{% url 'campaigns:campaign_detail' character.campaign.pk %}" class="btn btn-primary btn-sm">
          &larr; Back
        </a>
      </div>
      <small>
        Played by <strong>{{ character.player_name }}</strong>
        in campaign <strong>{{ character.campaign.title }}</strong>
      </small>
    </div>

    <div class="card-body">
      <div class="row mb-4">
        <div class="col-md-6">
          <h5 class="mb-3">Basics</h5>
          <dl class="row">
            <dt class="col-sm-4">Race</dt>
            <dd class="col-sm-8">{{ character.race }}</dd>

            <dt class="col-sm-4">Class</dt>
            <dd class="col-sm-8">{{ character.character_class }}</dd>

            <dt class="col-sm-4">Background</dt>
            <dd class="col-sm-8">
              {% if character.background %}
                {{ character.background }}
              {% else %}
                <span class="text-muted">N/A</span>
              {% endif %}
            </dd>

            <dt class="col-sm-4">Alignment</dt>
            <dd class="col-sm-8">
              {% if character.alignment %}
                {{ character.alignment }}
              {% else %}
                <span class="text-muted">N/A</span>
              {% endif %}
            </dd>
          </dl>
        </div>

        <div class="col-md-6">
          <h5 class="mb-3">Stats</h5>
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between">
              <span>Level</span>
              <span>{{ character.level }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Armor Class</span>
              <span>{{ character.armor_class }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Passive Perception</span>
              <span>{{ character.passive_perception }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Initiative Modifier</span>
              <span>{{ character.initiative_modifier }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Current HP</span>
              <span>{{ character.current_hit_points }}</span>
            </li>
          </ul>
        </div>
      </div>

      <h5 class="mb-3">Notable Traits</h5>
      {% if character.notable_traits %}
        <p class="card-text">{{ character.notable_traits|linebreaksbr }}</p>
      {% else %}
        <p class="text-muted"><em>No notable traits recorded.</em></p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
